"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["dashboard"],{17562:(e,t,i)=>{var n=i(46263),r=i(36071),o=i(59753),s=i(67525),l=i(44544),a=i(54679),c=i(29764);let{getItem:d,setItem:u}=(0,l.Z)("localStorage"),h="feeds-last-saved-tab",f=["feed-next","feed-original"],p=f[0];function m(e,t){let i=document.querySelector(".js-feed-post-form-selected-topic-id"),n=document.querySelector(".js-feed-post-form-selected-topic-name"),r=document.querySelector(".js-feed-post-tags-menu-show-button"),o=document.querySelector(".js-feed-post-active-tag-name"),s=document.querySelector(".js-feed-post-active-tag-wrapper");i&&n&&r&&o&&s&&(t&&e?(i.value=t,n.value=e,o.textContent=e,s.removeAttribute("hidden"),r.setAttribute("hidden","true")):(i.removeAttribute("value"),n.removeAttribute("value"),s.setAttribute("hidden","true"),r.removeAttribute("hidden")))}function g(){let e=document.querySelector(".js-feed-post-tags-menu-show-button");e&&e.click()}(0,o.on)("click",".js-follow-unfollow-submit",async function(e){let t;let i=e.currentTarget,n=i.form;e.preventDefault();try{t=await fetch(n.action,{method:n.method,body:new FormData(n),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{(0,a.v)()}i.classList.contains("js-hide-heading-menu-button")&&(i.hidden=!0),t&&!t.ok&&(0,a.v)()}),(0,r.N7)(".js-feeds-tabs",{constructor:HTMLElement,initialize(e){if(e){let t=d(h)||p;-1===f.indexOf(t)&&(t=p);let i=e.querySelector(`button#${t}`);if(i){i.setAttribute("aria-selected","true");let e=i.getAttribute("aria-controls")||"",t=document.getElementById(e);t&&t.removeAttribute("hidden")}let n=document.querySelector(".js-feedback-link");n&&n.toggleAttribute("hidden","feed-next"!==t)}}}),(0,o.on)("click",".js-feeds-tabs button",function(e){let t=e.currentTarget;if(!t.id||!f.includes(t.id))return;let i=document.querySelector(".js-feedback-link");i&&i.toggleAttribute("hidden","feed-next"!==t.id),u(h,t.id)}),(0,o.on)("click",".js-toggle-feed-views",function(e){let t=e.currentTarget,i=t?.getAttribute("data-name");if(!i)return;let n=document.getElementById("topic-feeds-container"),r=document.querySelector("feed-container"),o=new URL("",window.origin),s=t.parentElement?.children;if(s){for(let e of s)e.classList.remove("ActionListItem--navActive");"topics"===i?(r?.toggleAttribute("hidden",!0),n?.toggleAttribute("hidden",!1),t?.classList.add("ActionListItem--navActive"),o.searchParams.append("view","topics"),history.replaceState(null,document.title,o.href)):(r?.toggleAttribute("hidden",!1),n?.toggleAttribute("hidden",!0),t?.classList.add("ActionListItem--navActive"),"for-you"===i?r?.handleForYouFeedItemClick():r?.handleTopicFeedItemClick(i,t.getAttribute("data-display-name")||""))}}),(0,o.on)("click",".js-tag-menu-topic",function(e){e.preventDefault();let t=e.currentTarget,i=t?.getAttribute("data-name")||"",n=t?.getAttribute("data-id")||"";i&&n&&(m(i,n),g())}),(0,o.on)("click",".js-feed-post-active-topic-remove",function(){m(null,null)});let y={},b=new IntersectionObserver(function(e){for(let t of e){let e=t.target,i=e.getAttribute("data-hydro-view");if(!i)return;let n=JSON.parse(i).payload.feed_card.card_retrieved_id,r=t.intersectionRatio>.8;!r&&y[n]&&(clearTimeout(y[n]),delete y[n]),r&&!y[n]&&(y[n]=setTimeout(()=>{(0,c.Fk)(e)},1e3))}},{rootMargin:"0px",threshold:[0,.8]});(0,r.N7)(".js-feed-item-view",e=>b.observe(e));let v=[];function w(e){let t=e.getElementsByClassName("js-feed-item-heading-menu");return 0===t.length?null:t[0]}let j=(0,n.D)(e=>{let t=w(e);t&&(t.hidden=!1,v.push(t))},100),T=(0,n.D)(()=>{A()},100);function A(){let e=[];for(let t of v){let i=t.closest(".js-feed-item-component");t.open||i.hasAttribute("focus-child")?e.push(t):t.hidden=!0}v=e}async function S(e){let t;let i=e.parentElement;if(!i)return;let n=new FormData(i),r=n.get("event_id");if(r){try{t=await fetch(i.action,{method:i.method,body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{(0,a.v)()}if(t&&!t.ok)(0,a.v)();else{i.closest(".js-feed-item-heading-menu")?.removeAttribute("open");let e=i.closest(".js-feed-item-component"),n=e.querySelector(".js-hidden-label-target");if(!n)return;let r=await t?.json();if(r.hidden){let e=document.querySelector("#hidden-event-label");if(!e)return;let t=e.content.cloneNode(!0);n.appendChild(t)}else n.textContent="";let o=(0,s.r)(document,r.form.trim());i.replaceWith(o)}}}async function _(e){let t;let i=e.parentElement;if(!i)return;let n=new FormData(i),r=n.get("event_id"),o=n.get("reason_dismissed"),s=n.get("card_type");if(r){try{t=await fetch(i.action,{method:i.method,body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{(0,a.v)()}t&&!t.ok?(0,a.v)():("dismissed"===o&&"create_discussion"===s?q(r):L(r),i.closest(".js-feed-item-disinterest-dialog")?.parentElement?.removeAttribute("open"),i.closest(".js-feed-item-heading-menu")?.removeAttribute("open"))}}function L(e){let t=document.querySelector(`#feed-item-${e}`),i=t?.parentElement?.querySelector(":scope > .js-details-target"),n=document.querySelector(`#dismissed-item-placeholder-${e}`);t&&n&&(t.toggleAttribute("hidden"),n.toggleAttribute("hidden"),i?.toggleAttribute("hidden"))}function q(e){let t=document.querySelector(`#feed-item-${e}`)?.parentElement,i=t?.previousElementSibling,n=t?.nextElementSibling;t&&(t.addEventListener("transitionend",()=>{t.remove();let e=document.querySelectorAll(".js-pinned-announcement-container").length;if(e<3&&document.querySelector(".js-pinned-announcements-toggle")?.toggleAttribute("hidden",!0),!n&&!i){document.querySelector("#dismissed-announcements-placeholder")?.removeAttribute("hidden");return}!t.classList.contains("Details-content--hidden")&&n&&E(n)}),t.classList.add("transition"))}function E(e){if(e.classList.contains("Details-content--hidden"))e.classList.remove("Details-content--hidden");else{let t=e.nextElementSibling;t&&t.classList.contains("Details-content--hidden")&&t.classList.remove("Details-content--hidden")}}(0,r.N7)(".js-feed-item-component",e=>{e.addEventListener("mouseenter",e=>{let t=e.target;j(t)}),e.addEventListener("mouseleave",T)}),(0,r.N7)(".js-feed-item-component *",e=>{e.addEventListener("focus",e=>{let t=e.target,i=t.closest(".js-feed-item-component");i.setAttribute("focus-child",t.localName),j(i)}),e.addEventListener("blur",e=>{let t=e.target,i=t.closest(".js-feed-item-component");i.removeAttribute("focus-child"),T()})}),(0,o.on)("click","js-feed-item-next-component",function(){sessionStorage.setItem("github:dashboard:scrollHeight",`${window.scrollY}`)}),(0,o.on)("click",".js-feed-item-heading-menu",e=>{let t=e.currentTarget.querySelector("template");if(!t)return;let i=t.content,n=e.currentTarget.querySelector(".js-block-user-button");n?.append(i)}),(0,o.on)("click",".js-feed-filter-trigger",function(){let e=document.querySelector(".js-feed-filter-menu");e&&(e.open=!0)}),(0,o.on)("click",".js-feed-disinterest-submit",function(e){e.preventDefault(),_(e.currentTarget)}),(0,o.on)("click",".js-feed-hide-event-submit",function(e){e.preventDefault(),S(e.currentTarget)}),(0,o.on)("click",".js-disinterest-checkbox",function(e){let t=e.currentTarget,i=t.closest("form");if(!i)return;let n=i.querySelector(".js-feed-disinterest-submit");if(!n)return;let r=i.querySelectorAll(".js-disinterest-checkbox");n.disabled=Array.from(r).every(e=>!e.checked)});let C=new IntersectionObserver(e=>{for(let t of e)t.target.toggleAttribute("open",!1)},{root:document.querySelector(".js-left-column-scroll-container")});(0,r.N7)(".js-left-column-scroll-container details",e=>C.observe(e));var k=i(254),F=i(9302),x=i(58700);let O=new WeakMap;function R(e){let t=O.get(e)||0;if(t>100)return;let i=e.querySelector(".js-more-repos-form");i&&(O.set(e,t+1),(0,x.Bt)(i))}function M(e,t,i){let n=new URL(e,window.location.origin),r=new URLSearchParams(n.search.slice(1));return t.length<1?r.delete(i):r.set(i,t),n.search=r.toString(),n.toString()}function I(e){let t=e.querySelector(".js-your-repositories-search");return!!t&&(document.activeElement===t||t.defaultValue.trim().length>0)}function P(e){let t=e.querySelector(".js-your-repositories-search");t&&(0,o.f)(t,"filterable:change")}function H(e){let t=e.getAttribute("data-url"),i=e.getAttribute("data-query-name");(0,F.lO)(null,"",M(t,e.value.trim(),i))}(0,k.ZG)(".js-your-repositories-search",function(e){let t=e.closest(".js-repos-container");R(t)}),(0,r.N7)(".js-your-repositories-search",{constructor:HTMLInputElement,initialize(e){e.defaultValue.trim().length>0&&P(e.closest(".js-repos-container"))}}),(0,k.q6)(".js-your-repositories-search",function(e){let t=e.target;H(t)}),(0,r.N7)(".js-more-repos-form",function(e){let t=e.closest(".js-repos-container");I(t)&&R(t),e.addEventListener("page:loaded",function(){P(t)})});var D=i(67780),N=i(5742),U=i(78232),Z=i(69567),$=i(65935);function B(e){let t=e.closest(".js-feed-item-component"),i=t.querySelector(".js-feed-post-comment-form-container");if(!i)return;let n=i.getAttribute("data-post-id"),r=document.querySelector("template.js-new-comment-template");n&&r&&(i.textContent="",i.appendChild(new Z.R(r,{postId:n}))),(0,U.j)(t)}(0,o.on)("click",".js-feed-post-comment-form-button",function({currentTarget:e}){B(e)}),(0,o.on)("click",".feed-comment-paging-form-body",function({currentTarget:e}){let t=e.querySelector(".js-feed-post-comment-paging-form"),i=new FormData(t),n=i.get("page"),r=i.get("feed_post_id"),o=document.querySelector(`#feed-post-${r}-comment-page`);o&&(o.value=`${n}`)}),(0,$.AC)(".js-feed-post-comment-form",async function(e,t){await t.text(),(0,U.w)(e);let i=e.closest(".js-feed-post-comment-form-container");i.querySelector(".js-comment-form-error")?.classList.add("d-none")});var V=i(76006),X=i(64611),W=i(67044),G=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let K=class FavoritePinsElement extends HTMLElement{get items(){return Array.from(this.list.children)}async formModified(e){this.submitButton.disabled=!(0,X.M)(this.form);let t=e.target;t.checked||this.uncheckedItems.includes(t.value)||this.uncheckedItems.push(t.value)}async limitPins(){let e=this.items.map(e=>e.querySelector('input[type="checkbox"]')),t=e.filter(e=>e.checked).length,i=parseInt(this.getAttribute("max"),10);for(let n of e)n.disabled=t===i&&!n.checked;let n=this.limitNotice.getAttribute("data-remaining-label")||"";this.limitNotice.textContent=`${t} ${n}`,this.limitNotice.classList.toggle("color-fg-danger",i-t<1)}querySearchTerm(){this.withLoading(async()=>{this.list.hidden=!0,this.page=1;let e=await this.fetchData(this.query,this.page),t=this.items.filter(e=>e.querySelector('input[type="checkbox"]')?.checked),i=Array.from(e.children);i.map(e=>{let t=e.querySelector('input[type="checkbox"]'),i=t.checked,n=this.uncheckedItems.includes(t.value);i&&n&&(t.checked=!1)});let n=this.filterShownItems(t,this.query);return this.list.replaceChildren(...this.sortItems(n,i)),this.filterEmptyState.hidden=this.list.children.length>0,this.limitPins(),this.list.hidden=!1,e})}filterShownItems(e,t){return e.map(e=>{let i=e.textContent||"";e.hidden=!i.toLowerCase().includes(t.toLowerCase())}),e}sortItems(e,t){let i=e.map(e=>e.querySelector('input[type="checkbox"]').value),n=t.filter(e=>!i.includes(e.querySelector('input[type="checkbox"]').value));return e.concat(n)}queryNextPage(){this.withLoading(async()=>{this.page+=1;let e=await this.fetchData(this.query,this.page);return e&&this.list.append(...e.children),e})}updateLoadMoreButton(e){let t="true"===e.getAttribute("data-has-more-items");t?this.loadMoreButton.hidden=!1:this.loadMoreButton.hidden=!0}async fetchData(e,t){let i=new URL(this.datasource,window.location.origin);i.searchParams.append("q",e),i.searchParams.append("page",t.toString());let n=await fetch(i),r=await n.text(),o=(0,s.r)(document,r);return o.firstChild}async withLoading(e){this.loadMoreButton.hidden=!0,this.loadMoreSpinner.hidden=!1,this.loadMoreSpinner.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"});let t=await e();this.loadMoreSpinner.hidden=!0,this.updateLoadMoreButton(t)}handleSearchInput(e){"Escape"===(0,W.EL)(e)&&e.stopImmediatePropagation(),this.query=e.target.value,this.clearButton.hidden=0===this.query.length,clearTimeout(this.setTimeoutId),this.setTimeoutId=setTimeout(()=>this.querySearchTerm(),500)}handleClearSearch(){this.input.value="",this.query="",this.clearButton.hidden=!0,this.querySearchTerm()}constructor(...e){super(...e),this.uncheckedItems=[],this.datasource="",this.query="",this.page=1}};G([V.fA],K.prototype,"form",void 0),G([V.fA],K.prototype,"limitNotice",void 0),G([V.fA],K.prototype,"input",void 0),G([V.fA],K.prototype,"list",void 0),G([V.fA],K.prototype,"submitButton",void 0),G([V.fA],K.prototype,"loadMoreButton",void 0),G([V.fA],K.prototype,"loadMoreSpinner",void 0),G([V.fA],K.prototype,"querySpinner",void 0),G([V.fA],K.prototype,"clearButton",void 0),G([V.fA],K.prototype,"filterEmptyState",void 0),G([V.Lj],K.prototype,"datasource",void 0),G([V.Lj],K.prototype,"query",void 0),G([V.Lj],K.prototype,"page",void 0),K=G([V.Ih],K);var Y=i(24601),J=i(28437),z=i(34892),Q=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let ee=class FeedFilterElement extends HTMLElement{get filterValues(){return JSON.parse(this.value)}connectedCallback(){this.initialFilterValue=this.filterValues}handleToggle(e){e.target instanceof HTMLInputElement||e.preventDefault();let t=e.currentTarget,i=t.querySelector("input")||t,n=this.filterValues,r=t.getAttribute("data-name");void 0!==n[r]&&(n[r]=!n[r],i.checked=n[r],i.toggleAttribute("checked",n[r]),this.setFilterValue(n),this.updateApplyButtonHydroAttributes(n))}async handleApply(){let e="/conduit/filter",t=this.getActiveTopic();this.isTopicFeed(t)&&(e=`${e}?is_topic=true&topic=${t}`);try{let t=await fetch(e,{method:"PUT",body:JSON.stringify(this.filterValues),credentials:"same-origin",headers:{"Scoped-CSRF-Token":this.csrfToken.value,"X-Requested-With":"XMLHttpRequest"}}),i=await t.text();this.dispatchEvent(new CustomEvent("feed-filter:apply",{bubbles:!0,detail:{updatedFeedContent:i}}))}catch(e){(0,Y.eK)(e),(0,J.x)(document.querySelector(".js-feed-filter-error-toast").innerHTML),this.resetFilterValue()}}setFilterValue(e){this.value=JSON.stringify(e)}resetFilterValue(){for(let e of this.inputs){let t=e.name||e.getAttribute("data-name"),i=this.initialFilterValue[t];e.toggleAttribute("checked",i)}this.setFilterValue(this.initialFilterValue)}reloadFilterValues(e){this.value=e;let t=this.filterValues;for(let e of this.inputs){let i=e.getAttribute("name");switch(e.tagName){case"INPUT":e.checked=t[i];break;case"TOGGLE-SWITCH":{let n=e;t[i]?n.turnOn():n.turnOff();break}default:throw Error(`Unexpected tag name: ${e.tagName}`)}}this.setFilterValue(t)}updateApplyButtonHydroAttributes(e){let t=this.applyButton.getAttribute("data-hydro-click"),i=JSON.parse(t);i.payload.metadata.filter_groups=Object.entries(e).filter(e=>e[1]).map(e=>e[0]),this.applyButton.setAttribute("data-hydro-click",JSON.stringify(i))}getUrlParams(){let e=new URL(window.location.href,window.location.origin),t=new URLSearchParams(e.search);return t}isTopicFeed(e){return"for-you"!==e}async setFeedFilterSettings(e=null){let t="/conduit/filter";e&&this.cacheFilter(e);let i=this.getActiveTopic(),n=this.filterCache.get(this.getFilterCacheKey(i));if(n)this.reloadFilterValues(n);else{this.isTopicFeed(i)&&(t=`${t}?is_topic=true&topic=${i}`);let e=await (0,z.a_)(document,t);this.innerHTML=e.querySelector(this.tagName).innerHTML,this.value=e.querySelector(this.tagName).getAttribute("data-value")}}getActiveTopic(){let e=this.getUrlParams().get("topic");return e||"for-you"}cacheFilter(e){this.filterCache.set(this.getFilterCacheKey(e),this.value)}getFilterCacheKey(e){return"for-you"===e?"for-you":"topic"}constructor(...e){super(...e),this.filterCache=new Map}};Q([V.Lj],ee.prototype,"value",void 0),Q([V.fA],ee.prototype,"csrfToken",void 0),Q([V.fA],ee.prototype,"applyButton",void 0),Q([V.GO],ee.prototype,"inputs",void 0),ee=Q([V.Ih],ee);var et=i(32596),ei=i(50576),en=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let er=class FeedFilterNextElement extends ee{get defaultValues(){return JSON.parse(this.default)}get filterChangesCount(){let e=(0,et.Z)(this.filterValues,(e,t)=>(0,ei.Z)(this.defaultValues[t],e));return Object.keys(e).length}connectedCallback(){this.updateFilterCounter()}resetFilterToDefault(){let e=this.defaultValues;for(let e of this.inputs){let t=e.getAttribute("name");switch(e.tagName){case"INPUT":e.checked=this.defaultValues[t];break;case"TOGGLE-SWITCH":{let i=e;this.defaultValues[t]?i.turnOn():i.turnOff();break}default:throw Error(`Unexpected tag name: ${e.tagName}`)}}this.setFilterValue(e)}async handleApply(){await super.handleApply(),this.updateFilterCounter()}async setFeedFilterSettings(e){await super.setFeedFilterSettings(e),this.updateFilterCounter()}updateFilterCounter(){this.dispatchEvent(new CustomEvent("feed-filter-next:active-count",{bubbles:!0,detail:{count:this.filterChangesCount}}))}};en([V.Lj],er.prototype,"default",void 0),er=en([V.Ih],er);var eo=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let es=class FeedContainerElement extends HTMLElement{get topicFeedFilterUrl(){let e=this.FILTER_URL;return this.activeTopic!==this.FOR_YOU_TOPIC&&(e+="?is_topic=true"),e}connectedCallback(){this.addEventListener("feed-filter:apply",this.handleFilterApply,!0),this.addEventListener("feed-filter-next:active-count",this.handleFilterCount,!0);let e=this.querySelector("feed-filter")||this.querySelector("feed-filter-next"),t=new MutationObserver(()=>{e?(this.cacheContent(this.activeTopic),this.filter.cacheFilter(this.activeTopic),t.disconnect()):(e=this.querySelector("feed-filter")||this.querySelector("feed-filter-next"))&&(this.cacheContent(this.activeTopic),this.filter.cacheFilter(this.activeTopic),t.disconnect())}),i=new MutationObserver(()=>{let e=this.querySelector("#conduit-feed-frame");if(e){let e=sessionStorage.getItem("github:dashboard:scrollHeight");e&&(window.scrollTo(0,+e),sessionStorage.removeItem("github:dashboard:scrollHeight")),t.disconnect()}});t.observe(this,{childList:!0,subtree:!0}),i.observe(this.content,{childList:!0,subtree:!0}),this.filterFragment.src=this.topicFeedFilterUrl}async handleForYouFeedItemClick(){let e=this.activeTopic;this.updateActiveTopic("for-you"),this.updateTitle("Home"),this.updateUrlParams(),await this.filter.setFeedFilterSettings(e),await this.updateContent(this.FOR_YOU_FEED_URL,e)}async handleTopicFeedItemClick(e,t){if(!e)throw Error("topic name is empty.");let i=this.activeTopic;this.updateUrlParams(e),this.updateActiveTopic(e),this.updateTitle(t),await this.updateContent(this.getTopicFeedUrl(e),i),await this.filter.setFeedFilterSettings(i)}openTopicView(){let e=document.querySelectorAll(".js-toggle-feed-views");for(let t of e)"Topics"===t.textContent?.trim()&&t.dispatchEvent(new MouseEvent("click",{bubbles:!0}))}getTopicFeedUrl(e){return`${this.TOPIC_FEEDS_URL}?topic=${e}`}updateActiveTopic(e){this.activeTopic=e}async updateContent(e,t=null){try{this.spinner.toggleAttribute("hidden",!1),this.content.toggleAttribute("hidden",!0),this.contentAbortController?this.contentAbortController.abort():t&&this.cacheContent(t);let i=this.contentCache.get(this.getCacheKey(this.activeTopic));if(i)this.content.innerHTML=i;else{this.contentAbortController=new AbortController;let t=await fetch(e,{method:"GET",signal:this.contentAbortController.signal,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}),i=await t.text();this.content.innerHTML=i,this.contentAbortController=null}}catch(e){if(e instanceof DOMException)return;reportError(e)}this.spinner.toggleAttribute("hidden",!0),this.content.toggleAttribute("hidden",!1)}handleFilterApply(e){let t=e.detail;this.content.innerHTML=t.updatedFeedContent}handleFilterCount(e){let t=e.detail;this.filterCounter.hidden=!t.count,this.filterCounter.textContent=t.count}updateUrlParams(e){let t=new URL("",window.origin);e&&t.searchParams.set("topic",e),history.replaceState(null,document.title,t.href)}updateTitle(e){this.feedTitle.textContent=e}cacheContent(e){this.contentCache.set(this.getCacheKey(e),this.content.innerHTML)}getCacheKey(e){return`${e}:${this.filter.value}`}async updateFeedPostTags(){let e="for-you"===this.activeTopic,t=document.querySelector(".js-feed-post-tags"),i=document.querySelector(".js-feed-post-active-tag-wrapper"),n=document.querySelector(".js-feed-post-form-selected-topic-id"),r=document.querySelector(".js-feed-post-form-selected-topic-name");if(!t||!i||!n||!r)return;e&&(n.value="",r.value="",i.setAttribute("hidden","true"));let o=r.value,s=new URL(this.FEED_POST_TAGS_URL,window.origin);o&&s.searchParams.set("context",o);try{let e=await fetch(s,{method:"GET",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}),i=await e.text();t.innerHTML=i}catch(e){if(e instanceof DOMException)return;reportError(e)}}constructor(...e){super(...e),this.FILTER_URL="/conduit/filter",this.TOPIC_FEEDS_URL="/conduit/topic_feeds",this.FOR_YOU_FEED_URL="/conduit/for_you_feed",this.FEED_POST_TAGS_URL="/feed_posts/tags_menu",this.FOR_YOU_TOPIC="for-you",this.contentCache=new Map,this.activeTopic=this.FOR_YOU_TOPIC}};eo([V.Lj],es.prototype,"activeTopic",void 0),eo([V.fA],es.prototype,"feedTitle",void 0),eo([V.fA],es.prototype,"spinner",void 0),eo([V.fA],es.prototype,"filter",void 0),eo([V.fA],es.prototype,"filterTrigger",void 0),eo([V.fA],es.prototype,"filterCounter",void 0),eo([V.fA],es.prototype,"filterFragment",void 0),eo([V.fA],es.prototype,"content",void 0),es=eo([V.Ih],es);var el=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let ea=class TopicFeedsContainerElement extends HTMLElement{connectedCallback(){this.updateContent(),this.addEventListener("social:success",this.refreshPinnedTopics);let e=new MutationObserver(()=>{this.searchInput=this.querySelector(".js-topic-feeds-container-search");let t=this.querySelector("#topic-feeds-container-clear-button");t&&(this.clearButton=t,this.clearButton.addEventListener("click",this.handleClearSearch.bind(this)),this.clearButton.toggleAttribute("hidden",!this.query),this.clearButton.style.borderRadius="3px",e.disconnect())});e.observe(this,{childList:!0,subtree:!0})}attributeChangedCallback(e){"data-query"===e&&this.toggleClearButton()}async refreshPinnedTopics(){let e=document.querySelector("sidebar-pinned-topics");e&&await e.reload()}handleSearchInput(e){"Escape"===(0,W.EL)(e)&&e.stopImmediatePropagation(),this.debounceQuery(e.target.value)}handleClearSearch(){this.searchInput&&(this.searchInput.value="",this.debounceQuery("",0))}async updateContent(){let e=this.query?`${this.src}?q=${this.query}`:this.src,t=await (0,z.a_)(document,e);this.content.replaceChildren(t)}debounceQuery(e,t=250){this.query=e,clearTimeout(this.setTimeoutId),this.setTimeoutId=setTimeout(()=>this.updateContent(),t)}toggleClearButton(){this.clearButton&&this.clearButton.toggleAttribute("hidden",!this.query)}};el([V.Lj],ea.prototype,"query",void 0),el([V.Lj],ea.prototype,"src",void 0),el([V.fA],ea.prototype,"content",void 0),ea=el([V.Ih],ea)},54679:(e,t,i)=>{i.d(t,{H:()=>o,v:()=>r});var n=i(59753);function r(){let e=document.getElementById("ajax-error-message");e&&(e.hidden=!1)}function o(){let e=document.getElementById("ajax-error-message");e&&(e.hidden=!0)}(0,n.on)("deprecatedAjaxError","[data-remote]",function(e){let t=e.detail,{error:i,text:n}=t;e.currentTarget===e.target&&"abort"!==i&&"canceled"!==i&&(/<html/.test(n)?(r(),e.stopImmediatePropagation()):setTimeout(function(){e.defaultPrevented||r()},0))}),(0,n.on)("deprecatedAjaxSend","[data-remote]",function(){o()}),(0,n.on)("click",".js-ajax-error-dismiss",function(){o()})},34892:(e,t,i)=>{i.d(t,{DF:()=>h,Fr:()=>f,a_:()=>u});var n=i(67525);function r(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map(e=>e.content);if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}let o=class ResponseError extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),this.response=t}};function s(e,t,i=!1){let n=t.headers.get("content-type")||"";if(!i&&!n.startsWith("text/html"))throw new o(`expected response with text/html, but was ${n}`,t);if(i&&!(n.startsWith("text/html")||n.startsWith("application/json")))throw new o(`expected response with text/html or application/json, but was ${n}`,t);let r=t.headers.get("x-html-safe");if(r){if(!e.includes(r))throw new o("response X-HTML-Safe nonce did not match",t)}else throw new o("missing X-HTML-Safe nonce",t)}var l=i(22490),a=i(7180);let c="server-x-safe-html",d=l.Z.createPolicy(c,{createHTML:(e,t)=>a.O.apply({policy:()=>(s(r(document),t),e),policyName:c,fallback:e,silenceErrorReporting:!0})});async function u(e,t,i){let r=new Request(t,i);r.headers.append("X-Requested-With","XMLHttpRequest");let o=await self.fetch(r);if(o.status<200||o.status>=300)throw Error(`HTTP ${o.status}${o.statusText||""}`);let s=d.createHTML(await o.text(),o);return(0,n.r)(e,s)}function h(e,t,i=1e3,n=[200]){return async function i(r){let o=new Request(e,t);o.headers.append("X-Requested-With","XMLHttpRequest");let s=await self.fetch(o);if(202===s.status)return await new Promise(e=>setTimeout(e,r)),i(1.5*r);if(n.includes(s.status))return s;if(s.status<200||s.status>=300)throw Error(`HTTP ${s.status}${s.statusText||""}`);throw Error(`Unexpected ${s.status} response status from poll endpoint`)}(i)}async function f(e,t,i){let{wait:n=500,acceptedStatusCodes:r=[200],max:o=3,attempt:s=0}=i||{},l=async()=>new Promise((i,l)=>{setTimeout(async()=>{try{let n=new Request(e,t);n.headers.append("X-Requested-With","XMLHttpRequest");let l=await self.fetch(n);if(r.includes(l.status)||s+1===o)return i(l);i("retry")}catch(e){l(e)}},n*s)}),a=await l();return"retry"!==a?a:f(e,t,{wait:n,acceptedStatusCodes:r,max:o,attempt:s+1})}},9302:(e,t,i)=>{let n,r;i.d(t,{lO:()=>f,qA:()=>h,y0:()=>l});let o=[],s=0;function l(){return n}function a(){try{return Math.min(Math.max(0,history.length)||0,9007199254740991)}catch(e){return 0}}function c(){return a()-1+s}function d(e){n=e;let t=location.href;o[c()]={url:t,state:n},o.length=a(),window.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}function u(){return new Date().getTime()}function h(e,t,i){s=0;let n={_id:u(),...e};history.pushState(n,t,i),d(n)}function f(e,t,i){let n={...l(),...e};history.replaceState(n,t,i),d(n)}n=function(){let e={_id:new Date().getTime(),...history.state};return d(e),e}(),window.addEventListener("popstate",function(e){let t=e.state;if(!t||!t._id&&!t.turbo?.restorationIdentifier)return;let i=t.turbo?.restorationIdentifier,n=o[c()-1]?.state?.turbo?.restorationIdentifier;n===i?s--:s++,d(t)},!0),window.addEventListener("turbo:visit",e=>{e instanceof CustomEvent&&(r=e.detail.action)}),window.addEventListener("turbo:load",()=>{"restore"!==r&&(s=0,f(history.state,"",""))}),window.addEventListener("hashchange",function(){if(a()>o.length){let e={_id:u()};history.replaceState(e,"",location.href),d(e)}},!0),window.addEventListener("pageshow",()=>{o=[],s=0})},29764:(e,t,i)=>{i.d(t,{$S:()=>r,Fk:()=>o,sz:()=>s});var n=i(71643);function r(e,t,i){let r={hydroEventPayload:e,hydroEventHmac:t,visitorPayload:"",visitorHmac:"",hydroClientContext:i},o=document.querySelector("meta[name=visitor-payload]");o instanceof HTMLMetaElement&&(r.visitorPayload=o.content);let s=document.querySelector("meta[name=visitor-hmac]")||"";s instanceof HTMLMetaElement&&(r.visitorHmac=s.content),(0,n.b)(r,!0)}function o(e){let t=e.getAttribute("data-hydro-view")||"",i=e.getAttribute("data-hydro-view-hmac")||"",n=e.getAttribute("data-hydro-client-context")||"";r(t,i,n)}function s(e){let t=e.getAttribute("data-hydro-click-payload")||"",i=e.getAttribute("data-hydro-click-hmac")||"",n=e.getAttribute("data-hydro-client-context")||"";r(t,i,n)}},5742:(e,t,i)=>{var n=i(36071),r=i(59753);let o=null,s=null;function l(e){let{item:t,oldIndex:i}=e,{parentNode:n}=t;s=n.children[i+1]}async function a(e){let{oldIndex:t,newIndex:i,item:n}=e;if(t===i)return;let r=n.closest(".js-pinned-items-reorder-form"),l=r.closest(".js-pinned-items-reorder-container"),a=l.querySelector(".js-pinned-items-spinner"),c=l.querySelector(".js-pinned-items-reorder-message"),d=a&&c;d&&(c.textContent="",a.style.display="inline-block"),o.option("disabled",!0);let u=await fetch(r.action,{method:r.method,body:new FormData(r),headers:{"X-Requested-With":"XMLHttpRequest"}});if(!u.ok){d&&(c.textContent=c.getAttribute("data-error-text")||"",a.style.display="none");let e=n.parentNode;s?e.insertBefore(n,s):e.appendChild(n);return}d&&(c.textContent=c.getAttribute("data-success-text")||"",a.style.display="none"),o.option("disabled",!1)}(0,n.N7)(".js-pinned-items-reorder-list",{async add(e){let{Sortable:t}=await Promise.all([i.e("vendors-node_modules_github_sortablejs_Sortable_js"),i.e("app_assets_modules_github_sortable-behavior_ts")]).then(i.bind(i,66884));o=t.create(e,{animation:150,item:".js-pinned-item-list-item",handle:".js-pinned-item-reorder",onUpdate:a,onStart:l,chosenClass:"is-dragging"})}}),(0,r.on)("submit",".js-pinned-items-reorder-form",function(e){e.preventDefault()}),(0,r.on)("click",".js-pinned-item-list-item .js-sortable-button",async function({currentTarget:e}){let{moveWithButton:t}=await Promise.all([i.e("vendors-node_modules_github_sortablejs_Sortable_js"),i.e("app_assets_modules_github_sortable-behavior_ts")]).then(i.bind(i,66884));t(e,e.closest(".js-pinned-item-list-item"),a)})},67044:(e,t,i)=>{i.d(t,{EL:()=>n.EL,N9:()=>n.N9,Tz:()=>n.Tz});var n=i(11793)},28437:(e,t,i)=>{let n;function r(e,t){if(o(),!e)return;let i=document.createElement("div");i.innerHTML=e,document.body&&document.body.append(i);let r=i.querySelector("button");r&&r.addEventListener("click",o,{once:!0}),document.addEventListener("keydown",e=>{"Escape"===e.key&&o()&&e.stopImmediatePropagation()}),n=i,t?.closeAfter&&setTimeout(()=>{n===i&&o()},t.closeAfter)}function o(){return!!n&&(n.remove(),n=null,!0)}i.d(t,{x:()=>r})},11793:(e,t,i)=>{i.d(t,{EL:()=>s,N9:()=>g,Tz:()=>y});let Leaf=class Leaf{constructor(e){this.children=[],this.parent=e}delete(e){let t=this.children.indexOf(e);return -1!==t&&(this.children=this.children.slice(0,t).concat(this.children.slice(t+1)),0===this.children.length&&this.parent.delete(this),!0)}add(e){return this.children.push(e),this}};let RadixTrie=class RadixTrie{constructor(e){this.parent=null,this.children={},this.parent=e||null}get(e){return this.children[e]}insert(e){let t=this;for(let i=0;i<e.length;i+=1){let n=e[i],r=t.get(n);if(i===e.length-1)return r instanceof RadixTrie&&(t.delete(r),r=null),r||(r=new Leaf(t),t.children[n]=r),r;r instanceof Leaf&&(r=null),r||(r=new RadixTrie(t),t.children[n]=r),t=r}return t}delete(e){for(let t in this.children){let i=this.children[t];if(i===e){let e=delete this.children[t];return 0===Object.keys(this.children).length&&this.parent&&this.parent.delete(this),e}}return!1}};function n(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),i=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==i&&"reset"!==i&&"checkbox"!==i&&"radio"!==i&&"file"!==i||e.isContentEditable}function r(e,t){let i=new CustomEvent("hotkey-fire",{cancelable:!0,detail:{path:t}}),r=!e.dispatchEvent(i);r||(n(e)?e.focus():e.click())}function o(e){let t=[],i=[""],n=!1;for(let r=0;r<e.length;r++){if(n&&","===e[r]){t.push(i),i=[""],n=!1;continue}if(" "===e[r]){i.push(""),n=!1;continue}n="+"!==e[r],i[i.length-1]+=e[r]}return t.push(i),t.map(e=>e.filter(e=>""!==e)).filter(e=>e.length>0)}function s(e){let{ctrlKey:t,altKey:i,metaKey:n,key:r}=e,o=[],s=[t,i,n,a(e)];for(let[e,t]of s.entries())t&&o.push(l[e]);return l.includes(r)||o.push(r),o.join("+")}let l=["Control","Alt","Meta","Shift"];function a(e){let{shiftKey:t,code:i,key:n}=e;return t&&!(i.startsWith("Key")&&n.toUpperCase()===n)}let c=new RadixTrie,d=new WeakMap,u=c,h=null,f=[];function p(){f=[],h=null,u=c}function m(e){if(e.defaultPrevented||!(e.target instanceof Node))return;if(n(e.target)){let t=e.target;if(!t.id||!t.ownerDocument.querySelector(`[data-hotkey-scope="${t.id}"]`))return}null!=h&&window.clearTimeout(h),h=window.setTimeout(p,1500);let t=u.get(s(e));if(!t){p();return}if(f.push(s(e)),u=t,t instanceof Leaf){let i;let o=e.target,s=!1,l=n(o);for(let e=t.children.length-1;e>=0;e-=1){i=t.children[e];let n=i.getAttribute("data-hotkey-scope");if(!l&&!n||l&&o.id===n){s=!0;break}}i&&s&&(r(i,f),e.preventDefault()),p()}}function g(e,t){0===Object.keys(c.children).length&&document.addEventListener("keydown",m);let i=o(t||e.getAttribute("data-hotkey")||""),n=i.map(t=>c.insert(t).add(e));d.set(e,n)}function y(e){let t=d.get(e);if(t&&t.length)for(let i of t)i&&i.delete(e);0===Object.keys(c.children).length&&document.removeEventListener("keydown",m)}},17685:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(66092).Z.Symbol;let r=n},74073:(e,t,i)=>{function n(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}i.d(t,{Z:()=>r});let r=n},6029:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(17685),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,l=n.Z?n.Z.toStringTag:void 0;function a(e){var t=o.call(e,l),i=e[l];try{e[l]=void 0;var n=!0}catch(e){}var r=s.call(e);return n&&(t?e[l]=i:delete e[l]),r}var c=Object.prototype.toString;function d(e){return c.call(e)}var u="[object Null]",h="[object Undefined]",f=n.Z?n.Z.toStringTag:void 0;function p(e){return null==e?void 0===e?h:u:f&&f in Object(e)?a(e):d(e)}let m=p},13413:(e,t,i)=>{i.d(t,{Z:()=>r});var n="object"==typeof global&&global&&global.Object===Object&&global;let r=n},56009:(e,t,i)=>{i.d(t,{Z:()=>s});var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function o(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}let s=o},66092:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(13413),r="object"==typeof self&&self&&self.Object===Object&&self,o=n.Z||r||Function("return this")();let s=o},79651:(e,t,i)=>{function n(e,t){return e===t||e!=e&&t!=t}i.d(t,{Z:()=>r});let r=n},27771:(e,t,i)=>{i.d(t,{Z:()=>r});var n=Array.isArray;let r=n},50585:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(73234),r=i(1656);function o(e){return null!=e&&(0,r.Z)(e.length)&&!(0,n.Z)(e)}let s=o},73234:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(6029),r=i(77226),o="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",a="[object Proxy]";function c(e){if(!(0,r.Z)(e))return!1;var t=(0,n.Z)(e);return t==s||t==l||t==o||t==a}let d=c},1656:(e,t,i)=>{i.d(t,{Z:()=>o});var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}let o=r},77226:(e,t,i)=>{function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}i.d(t,{Z:()=>r});let r=n},18533:(e,t,i)=>{function n(e){return null!=e&&"object"==typeof e}i.d(t,{Z:()=>r});let r=n},72714:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(6029),r=i(18533),o="[object Symbol]";function s(e){return"symbol"==typeof e||(0,r.Z)(e)&&(0,n.Z)(e)==o}let l=s},55031:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(17685),r=i(74073),o=i(27771),s=i(72714),l=1/0,a=n.Z?n.Z.prototype:void 0,c=a?a.toString:void 0;function d(e){if("string"==typeof e)return e;if((0,o.Z)(e))return(0,r.Z)(e,d)+"";if((0,s.Z)(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}function u(e){return null==e?"":d(e)}let h=u}},e=>{var t=t=>e(e.s=t);e.O(0,["vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_stacktrace-parser_dist_stack-trace-parser_esm_js-node_modules_github_bro-a4c183","vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_lodash-es_isEqual_js-node_modules_lodash-es_pickBy_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_remote-form_dist_-39cc36","ui_packages_soft-nav_soft-nav_ts","app_assets_modules_github_behaviors_inline-comment_ts-app_assets_modules_github_discussions_v-cc3232"],()=>t(17562));var i=e.O()}]);
//# sourceMappingURL=dashboard-e1bfdbe5a6b6.js.map